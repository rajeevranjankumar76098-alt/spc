<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Payment – SPC</title>

<style>
body{
  margin:0;
  font-family:Arial;
  background:#f4f6fb;
  color:#333;
}
a{text-decoration:none}

/* HEADER */
header{
  background:#0b5ed7;
  color:#fff;
  padding:15px 40px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
header h1{margin:0;font-size:22px}
nav a{
  color:#fff;
  margin-left:20px;
  font-size:14px;
}

/* PAGE */
.section{
  max-width:900px;
  margin:40px auto;
  padding:0 20px;
}
.card{
  background:#fff;
  padding:25px;
  border-radius:8px;
  box-shadow:0 4px 12px rgba(0,0,0,.08);
  margin-bottom:25px;
}

/* ORDER */
.order-item{
  display:flex;
  justify-content:space-between;
  padding:8px 0;
  border-bottom:1px dashed #ccc;
}
.total{
  text-align:right;
  font-size:18px;
  font-weight:bold;
  margin-top:15px;
}

/* PAYMENT */
.payments{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px;
}
.pay-card{
  border:1px solid #ddd;
  padding:20px;
  border-radius:8px;
  text-align:center;
}
.pay-card button{
  margin-top:10px;
  padding:8px 15px;
  background:#0b5ed7;
  color:#fff;
  border:none;
  border-radius:4px;
  cursor:pointer;
}

/* FOOTER */
footer{
  background:#084298;
  color:#fff;
  margin-top:60px;
}
.footer-bottom{
  background:#06357a;
  text-align:center;
  padding:12px;
  font-size:13px;
}
</style>
</head>

<body>

<!-- HEADER -->
<header>
  <h1>SPC – Service Provider Centre</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="cart.html">Cart</a>
    <a href="profile.html">Profile</a>
  </nav>
</header>

<section class="section">

  <!-- ORDER SUMMARY -->
  <div class="card">
    <h2>Order Summary</h2>
    <div id="orderList"></div>
    <div class="total">Total: ₹<span id="totalAmount">0</span></div>
  </div>

  <!-- PAYMENT OPTIONS -->
  <div class="card">
    <h2>Select Payment Method</h2>

    <div class="payments">

      <div class="pay-card">
        <h3>UPI Payment</h3>
        <p>UPI ID: <b>spc@upi</b></p>
        <p>(Google Pay / PhonePe / Paytm)</p>
        <button onclick="payUPI()">Pay Now</button>
      </div>

      <div class="pay-card">
        <h3>Pay After Service</h3>
        <p>Pay directly to technician</p>
        <button onclick="payLater()">Confirm Order</button>
      </div>

    </div>
  </div>

</section>

<footer>
  <div class="footer-bottom">
    © 2025 SPC – Service Provider Centre
  </div>
</footer>

<script>
/* LOAD CART DATA */
const cart = JSON.parse(localStorage.getItem("cart")) || [];
const pricePerService = 299;
const list = document.getElementById("orderList");
let total = 0;

if(cart.length === 0){
  list.innerHTML = "<p>No services selected.</p>";
}else{
  cart.forEach(service=>{
    total += pricePerService;
    list.innerHTML += `
      <div class="order-item">
        <span>${service}</span>
        <span>₹${pricePerService}</span>
      </div>
    `;
  });
}
document.getElementById("totalAmount").innerText = total;

/* SAVE ORDER */
function saveOrder(paymentMode){
  let orders = JSON.parse(localStorage.getItem("orders")) || [];
  cart.forEach(service=>{
    orders.push({
      service,
      status:"Pending",
      payment: paymentMode,
      date:new Date().toLocaleDateString()
    });
  });
  localStorage.setItem("orders", JSON.stringify(orders));
  localStorage.removeItem("cart");
}

/* PAYMENT ACTIONS */
function payUPI(){
  alert("UPI Payment Successful (Demo)");
  saveOrder("Paid");
  location.href="dashboard.html";
}

function payLater(){
  alert("Order Confirmed. Pay after service.");
  saveOrder("Pay After Service");
  location.href="dashboard.html";
}
</script>

</body>
</html>
